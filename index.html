<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- <base href="C:/projetos/andamentotrinity/"> -->
    <base href="https://alexrese.github.io/andamentotrinity/">
    <title>Trinity Andamento</title>

    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
        google.charts.load('current', { 'packages': ['bar'] });
        google.charts.setOnLoadCallback(trintySCP);
        google.charts.setOnLoadCallback(trinityStartup);
        function trintySCP() {
            let data = google.visualization.arrayToDataTable([
                ['Módulos', 'Porcentagem (%)'],
                ['GED', 100],
                ['Log', 100],
                ['Zenvia', 90],
                ['Skymark', 90],
                ['Armazém', 90],
                ['Inventário', 70],
                ['Integração Contínua', 70],
                ['Vencimento Cambio', 10],
                ['Compartilhar', 10],
                ['Demurrage', 0],
                ['Banco 2.0', 0],
            ]);

            let options = {
                chart: {
                    title: 'Tarefas da TrinitySCP',
                    subtitle: 'Terceiro trimestre de 2022',
                },
                vAxis: {
                    viewWindowMode: 'explicit',
                    viewWindow: {
                        max: 100,
                        min: 0
                    }
                }
            };
            let chart = new google.charts.Bar(document.getElementById('trinitySCP'));

            chart.draw(data, google.charts.Bar.convertOptions(options));

            google.visualization.events.addListener(chart, 'select', function () {
                let selection = chart.getSelection();
                if (selection.length) {
                    let row = selection[0].row;
                    // Pega a label, retira os ascentos, coloca em minusculas, e substititui todos os espaços por _
                    let _url = data.getValue(row, 0).normalize('NFD').replace(/[\u0300-\u036f]/g, "").toLowerCase().replace(/ /g, "_");
                    window.location.href = document.querySelector('base').href + _url + ".html";
                }

            });
        }

        function trinityStartup() {
            let data = google.visualization.arrayToDataTable([
                ['Tarefas', 'Porcentagem (%)'],
                ['Linkedin', 100],
                ['Registro de Marca', 100],
                ['Site Trinity', 30],
                ['SWOT', 30],
                ['Pesquisa Mercado', 10],
                ['Vídeo Demonstração', 10],
                ['Vídeo Apresentação', 0]
            ]);

            let options = {
                chart: {
                    title: 'Trinity Startup',
                    subtitle: 'Terceiro trimestre de 2022',
                },
                vAxis: {
                    viewWindowMode: 'explicit',
                    viewWindow: {
                        max: 100,
                        min: 0
                    }
                }
            };
            let chart = new google.charts.Bar(document.getElementById('trinityStartup'));

            chart.draw(data, google.charts.Bar.convertOptions(options));
        }
    </script>
</head>

<body>
    <div id="trinitySCP" style="width: 100%; height: 450px;"></div>
    <div id="trinityStartup" style="width: 100%; height: 450px;"></div>
</body>

</html>